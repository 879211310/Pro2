@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "系统日志";
}

@section Script
{
     <link href="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css">
    <link href="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/skins/ligerui-icons.css" rel="stylesheet" type="text/css">
    <link href="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/skins/Gray/css/all.css" rel="stylesheet" type="text/css">
    <script src="~/Scripts/jquery-ligerUI-1.1.9/jquery/jquery-1.9.0.min.js" type="text/javascript"></script> 
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/core/base.js" type="text/javascript"></script>  
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerGrid.js"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerToolBar.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerResizable.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerCheckBox.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerDrag.js"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerDialog.js"></script>
    <script type="text/javascript">
        
        $(function ()
        {
            window['g'] =
            $("#maingrid").ligerGrid({
                height:'100%',
                width:'100%',
                columns: [
                { display: 'Id', name: 'Id', align: 'left', width: 100, minWidth: 60 },
                { display: '操作人', name: 'Operator', minWidth: 120 },
                { display: '信息', name: 'Message', minWidth: 140 },
                { display: '结果', name: 'Result' },
                { display: '类型', name: 'Type', minWidth: 120 },
                { display: '模块', name: 'Module', minWidth: 140 },
                { display: '添加时间', name: 'CreateTime' }
                ], data:@(Html.Raw(ViewBag.list)),  pageSize:30 ,rownumbers:true, 
                onSelectRow :function(rowdata, rowid, rowobj)
                {
                    $("#detId").html(rowdata.Id);
                    $("#detOperator").html(rowdata.Operator);
                    $("#detMessage").html(rowdata.Message);
                    $("#detResult").html(rowdata.Result);
                    $("#detType").html(rowdata.Type);
                    $("#detModule").html(rowdata.Module);
                    $("#detCreatetime").html(rowdata.CreateTime);
                    $.ligerDialog.open({title:"详细信息", target: $("#detail"),width: 400 });//详细信息弹窗
                }//点击列获得数据ID
            });
              
 
            $("#pageloading").hide();//加载图标
        });  
          </script>
} 

<div class="l-loading" style="display:block" id="pageloading"></div> 
 <div class="l-clear"></div>
 
    <div id="maingrid"></div>

    <div id="detail" style="display:none;">
        <table id="TableDatail">
            <tr>
                <td style="width:60px;">Id：</td><td id="detId"></td>
            </tr>
             <tr>
                <td>操作人：</td><td id="detOperator"></td>
            </tr>
             <tr>
                <td>信息：</td><td id="detMessage"></td>
            </tr>
             <tr>
                <td>结果：</td><td id="detResult"></td>
            </tr>
             <tr>
                <td>类型：</td><td id="detType"></td>
            </tr>
             <tr>
                <td>模块：</td><td id="detModule"></td>
            </tr>
             <tr>
                <td>时间：</td><td id="detCreatetime"></td>
            </tr>
        </table>
    </div>
    
  <div style="display:none;">
   
</div>