@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "系统错误日志";
}

@section Script
{
     <link href="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css">
    <link href="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/skins/ligerui-icons.css" rel="stylesheet" type="text/css">
    <link href="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/skins/Gray/css/all.css" rel="stylesheet" type="text/css">
    <script src="~/Scripts/jquery-ligerUI-1.1.9/jquery/jquery-1.9.0.min.js" type="text/javascript"></script> 
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/core/base.js" type="text/javascript"></script>  
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerGrid.js"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerToolBar.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerResizable.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerCheckBox.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerDrag.js"></script>
    <script src="~/Scripts/jquery-ligerUI-1.1.9/ligerUI/js/plugins/ligerDialog.js"></script>
    <script type="text/javascript">
        //var selectRowId="";
        //function itemclick(item)//工具条点击方法
        //{
        //    if(selectRowId=="")//判断是否选择数据
        //    {
        //        $.ligerDialog.error('请选择一行')//弹窗
        //    }
        //    $.ligerDialog.open({ target: $("#detail") });//弹窗
        //}
         
        $(function ()
        {
            window['g'] =
            $("#maingrid").ligerGrid({
                height:'100%',
                columns: [
                { display: 'Id', name: 'Id', align: 'left', width: 100, minWidth: 60 },
                { display: '帮助链接', name: 'HelpLink', minWidth: 120 },
                { display: '错误信息', name: 'Message', minWidth: 140 },
                { display: '来源', name: 'Source' },
                { display: '堆栈', name: 'StackTrace', minWidth: 120 },
                { display: '目标页', name: 'TargetSite', minWidth: 140 },
                { display: '程序集', name: 'Data' },
                { display: '时间', name: 'CreateTime' , width: 240}
                ], data:@(Html.Raw(ViewBag.list)),  pageSize:30 ,rownumbers:true,
                //toolbar: { items: [
                //{ text: '增加', click: itemclick, icon: 'add' },
                //{ line: true },
                //{ text: '修改', click: itemclick, icon: 'modify' },
                //{ line: true },
                //{ text: '删除', click: itemclick, img: '/Scripts/jquery-ligerUI-1.1.9/ligerUI/skins/icons/delete.gif' }
                //]
                //},
                onSelectRow :function(rowdata, rowid, rowobj)
                {
                    $("#detId").html(rowdata.Id);
                    $("#detHelpLink").html(rowdata.HelpLink);
                    $("#detMessage").html(rowdata.Message);
                    $("#detSource").html(rowdata.Source);
                    $("#detStackTrace").html(rowdata.StackTrace);
                    $("#detTargetSite").html(rowdata.TargetSite);
                    $("#detData").html(rowdata.Data);
                    $("#detCreatetime").html(rowdata.CreateTime);
                    $.ligerDialog.open({title:"详细信息", target: $("#detail"),width: 900 });//详细信息弹窗
                }//点击列获得数据ID
            });
              
 
            $("#pageloading").hide();//加载图标 
        });  
          </script>
} 
 

<div class="l-loading" style="display:block" id="pageloading"></div> 
 <div class="l-clear"></div>
 
    <div id="maingrid"></div>

    <div id="detail" style="display:none;"> 
        <table id="TableDatail">
            <tr>
                <td style="width:60px;">Id：</td><td id="detId" "></td>
            </tr>
             <tr>
                <td>帮助链接：</td><td id="detHelpLink"></td>
            </tr>
             <tr>
                <td>错误信息：</td><td id="detMessage"></td>
            </tr>
             <tr>
                <td>来源：</td><td id="detSource"></td>
            </tr>
             <tr>
                <td>堆栈：</td><td id="detStackTrace"></td>
            </tr>
             <tr>
                <td>目标页：</td><td id="detTargetSite"></td>
            </tr>
            <tr>
                <td>程序集：</td><td id="detData"></td>
            </tr>
             <tr>
                <td>时间：</td><td id="detCreatetime"></td>
            </tr>
        </table>
    </div>
    
  <div style="display:none;">
   
</div>